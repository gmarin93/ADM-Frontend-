{"ast":null,"code":"import _defineProperty from\"/home/sisagricola/Documents/Software/AdmTareas/mern/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/sisagricola/Documents/Software/AdmTareas/mern/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/sisagricola/Documents/Software/AdmTareas/mern/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from'react-router-dom';import AlertaContext from'../../context/alertas/alertaContext';import AuthContext from'../../context/autentication/authContext';var NuevaCuenta=function NuevaCuenta(props){var authContext=useContext(AuthContext);var registrarUsuario=authContext.registrarUsuario,mensaje=authContext.mensaje,autenticado=authContext.autenticado;var alertaContext=useContext(AlertaContext);var alerta=alertaContext.alerta,mostrarAlerta=alertaContext.mostrarAlerta;useEffect(function(){if(autenticado){props.history.push('/proyectos');}if(mensaje){mostrarAlerta(mensaje.msg,mensaje.categoria);}//eslint-disable-next-line\n},[mensaje,autenticado,props.history]);var _useState=useState({nombre:'',email:'',password:'',confirmar:''}),_useState2=_slicedToArray(_useState,2),usuario=_useState2[0],guardarUsuario=_useState2[1];var nombre=usuario.nombre,email=usuario.email,password=usuario.password,confirmar=usuario.confirmar;var onChange=function onChange(e){guardarUsuario(_objectSpread(_objectSpread({},usuario),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(nombre.trim()===\"\"||email.trim()===\"\"||password.trim()===\"\"||confirmar.trim()===\"\"){mostrarAlerta('Todos los campos son obligatorios','alerta-error');return;}if(password.length<6){mostrarAlerta('El password debe ser de al menos 6 caracteres','alerta-error');return;}if(password!==confirmar){mostrarAlerta('Las contrañas no son iguales','alerta-error');return;}registrarUsuario({nombre:nombre,email:email,password:password});};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-usuario\"},alerta?/*#__PURE__*/React.createElement(\"div\",{className:\"alerta \".concat(alerta.categoria)},alerta.msg):null,/*#__PURE__*/React.createElement(\"div\",{className:\"contenedor-form sombra-dark\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Crear una cuenta\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"nombre\"},\"Nombre\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"nombre\",value:nombre,name:\"nombre\",placeholder:\"Tu Nombre\",onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:email,placeholder:\"Tu Email\",onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",value:password,name:\"password\",placeholder:\"Tu Pasword\",onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"confirmar\"},\"Confirmar Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"confirmar\",value:confirmar,name:\"confirmar\",placeholder:\"Repite tu Password\",onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"btn btn-primario btn-block\",value:\"Registrar\"}))),/*#__PURE__*/React.createElement(Link,{to:'/',className:\"enlace-cuenta\"},\"Volver a Iniciar Sesi\\xF3n\")));};export default NuevaCuenta;","map":{"version":3,"sources":["/home/sisagricola/Documents/Software/AdmTareas/mern/FrontEnd/src/components/auth/NuevaCuenta.js"],"names":["React","useState","useContext","useEffect","Link","AlertaContext","AuthContext","NuevaCuenta","props","authContext","registrarUsuario","mensaje","autenticado","alertaContext","alerta","mostrarAlerta","history","push","msg","categoria","nombre","email","password","confirmar","usuario","guardarUsuario","onChange","e","target","name","value","onSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport AlertaContext from '../../context/alertas/alertaContext';\nimport AuthContext from '../../context/autentication/authContext';\n\n\nconst NuevaCuenta = props => {\n\n    const authContext = useContext(AuthContext);\n    const {registrarUsuario, mensaje, autenticado} = authContext;\n\n    const alertaContext = useContext(AlertaContext);\n    const { alerta, mostrarAlerta } = alertaContext;\n\n    useEffect(()=>{\n\n        if(autenticado){\n            props.history.push('/proyectos');\n        }\n\n        if(mensaje){\n            mostrarAlerta(mensaje.msg, mensaje.categoria);\n        }\n\n        \n        //eslint-disable-next-line\n    },[mensaje, autenticado, props.history])\n\n    const [usuario, guardarUsuario] = useState({\n        nombre: '',\n        email: '',\n        password: '',\n        confirmar: ''\n    });\n\n    const { nombre, email, password, confirmar } = usuario;\n\n    const onChange = (e) => {\n        guardarUsuario({\n            ...usuario,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const onSubmit = e => {\n    \n        e.preventDefault();\n\n        if (nombre.trim() === \"\" ||\n            email.trim() === \"\" ||\n            password.trim() === \"\" ||\n            confirmar.trim() === \"\") {\n\n            mostrarAlerta('Todos los campos son obligatorios','alerta-error');\n            return;\n        }\n\n        if(password.length<6){\n            mostrarAlerta('El password debe ser de al menos 6 caracteres','alerta-error');\n            return;\n        }\n\n        if(password !== confirmar){\n            mostrarAlerta('Las contrañas no son iguales','alerta-error');\n            return;\n        }\n\n        registrarUsuario({\n            nombre,\n            email,\n            password\n        });\n\n    }\n\n    return (\n        <div className=\"form-usuario\">\n            {alerta ? (<div className={`alerta ${alerta.categoria}`}>{alerta.msg}</div>) : null}\n            <div className=\"contenedor-form sombra-dark\">\n                <h1>Crear una cuenta</h1>\n\n                <form onSubmit={onSubmit}>\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"nombre\">Nombre</label>\n                        <input type=\"text\" id=\"nombre\" value={nombre} name=\"nombre\" placeholder=\"Tu Nombre\" onChange={onChange} />\n                    </div>\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"email\">Email</label>\n                        <input type=\"email\" id=\"email\" name=\"email\" value={email} placeholder=\"Tu Email\" onChange={onChange} />\n                    </div>\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input type=\"password\" id=\"password\" value={password} name=\"password\" placeholder=\"Tu Pasword\" onChange={onChange} />\n                    </div>\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"confirmar\">Confirmar Password</label>\n                        <input type=\"password\" id=\"confirmar\" value={confirmar} name=\"confirmar\" placeholder=\"Repite tu Password\" onChange={onChange} />\n                    </div>\n                    <div className=\"campo-form\">\n                        <input type=\"submit\" className=\"btn btn-primario btn-block\" value=\"Registrar\" />\n                    </div>\n                </form>\n                <Link to={'/'} className=\"enlace-cuenta\">\n                    Volver a Iniciar Sesión\n                </Link>\n            </div>\n        </div>\n    );\n};\n\nNuevaCuenta.propTypes = {\n\n};\n\nexport default NuevaCuenta;"]},"metadata":{},"sourceType":"module"}