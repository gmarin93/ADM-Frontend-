{"ast":null,"code":"var _jsxFileName = \"/home/sisagricola/Documents/Software/AdmTareas/mern/FrontEnd/src/components/tareas/FormTarea.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport proyectoContext from '../../context/proyectos/proyectoContext';\nimport tareaContext from '../../context/tareas/tareaContext';\n\nconst FormTarea = props => {\n  const {\n    proyecto\n  } = useContext(proyectoContext); //Se obtienen datos del context de proyectos\n\n  const {\n    tareaseleccionada,\n    agregarTarea,\n    validarTarea,\n    errortarea,\n    obtenerTareas,\n    actualizarTarea,\n    limpiarTarea\n  } = useContext(tareaContext); // Se obtienen datos del context de tareas\n\n  useEffect(() => {\n    if (tareaseleccionada != null) {\n      guardarTarea(tareaseleccionada);\n    } else {\n      guardarTarea({\n        nombre: ''\n      });\n    }\n  }, [tareaseleccionada]);\n  const [tarea, guardarTarea] = useState({\n    nombre: ''\n  });\n  if (!proyecto) return null; // Array destructuring que extrae el proyecto actual\n\n  const [proyectoActual] = proyecto;\n\n  const handleChange = e => {\n    guardarTarea({ ...tarea,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const {\n    nombre\n  } = tarea;\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (nombre.trim() === '') {\n      validarTarea();\n      return;\n    }\n\n    if (tareaseleccionada == null) {\n      tarea.proyecto = proyectoActual._id;\n      tarea.estado = false;\n      agregarTarea(tarea);\n    } else {\n      actualizarTarea(tarea);\n      limpiarTarea();\n    } //Tareas del proyecto actual\n\n\n    debugger;\n    obtenerTareas(proyectoActual.id);\n    guardarTarea({\n      nombre: ''\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"formulario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contener-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input-text\",\n    placeholder: \"Nombre Tarea..\",\n    name: \"nombre\",\n    onChange: handleChange,\n    value: nombre,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contener-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primario btn-block\",\n    value: tareaseleccionada ? `Editar Tarea` : `Nueva Tarea`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }))), errortarea ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mensaje error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 27\n    }\n  }, \"Espacios en blanco\") : null);\n};\n\nFormTarea.propTypes = {};\nexport default FormTarea;","map":{"version":3,"sources":["/home/sisagricola/Documents/Software/AdmTareas/mern/FrontEnd/src/components/tareas/FormTarea.js"],"names":["React","useContext","useState","useEffect","proyectoContext","tareaContext","FormTarea","props","proyecto","tareaseleccionada","agregarTarea","validarTarea","errortarea","obtenerTareas","actualizarTarea","limpiarTarea","guardarTarea","nombre","tarea","proyectoActual","handleChange","e","target","name","value","onSubmit","preventDefault","trim","_id","estado","id","propTypes"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,UAAd,EAAyBC,QAAzB,EAAmCC,SAAnC,QAAmD,OAAnD;AACA,OAAOC,eAAP,MAA4B,yCAA5B;AACA,OAAOC,YAAP,MAAyB,mCAAzB;;AAEA,MAAMC,SAAS,GAAGC,KAAK,IAAI;AAEvB,QAAM;AAAEC,IAAAA;AAAF,MAAeP,UAAU,CAACG,eAAD,CAA/B,CAFuB,CAE0B;;AACjD,QAAM;AAACK,IAAAA,iBAAD;AAAmBC,IAAAA,YAAnB;AAAgCC,IAAAA,YAAhC;AAA6CC,IAAAA,UAA7C;AAAwDC,IAAAA,aAAxD;AAAsEC,IAAAA,eAAtE;AAAsFC,IAAAA;AAAtF,MAAoGd,UAAU,CAACI,YAAD,CAApH,CAHuB,CAG4G;;AAGnIF,EAAAA,SAAS,CAAC,MAAI;AAEV,QAAGM,iBAAiB,IAAE,IAAtB,EAA2B;AACvBO,MAAAA,YAAY,CAACP,iBAAD,CAAZ;AACH,KAFD,MAGI;AACAO,MAAAA,YAAY,CAAC;AACTC,QAAAA,MAAM,EAAC;AADE,OAAD,CAAZ;AAGH;AACJ,GAVQ,EAUP,CAACR,iBAAD,CAVO,CAAT;AAYA,QAAM,CAACS,KAAD,EAAOF,YAAP,IAAqBd,QAAQ,CAAC;AAChCe,IAAAA,MAAM,EAAC;AADyB,GAAD,CAAnC;AAIA,MAAG,CAACT,QAAJ,EAAc,OAAO,IAAP,CAtBS,CAwBvB;;AACA,QAAM,CAACW,cAAD,IAAkBX,QAAxB;;AAEA,QAAMY,YAAY,GAACC,CAAC,IAAE;AAClBL,IAAAA,YAAY,CAAC,EACT,GAAGE,KADM;AAET,OAACG,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFjB,KAAD,CAAZ;AAIH,GALD;;AAMA,QAAM;AAACP,IAAAA;AAAD,MAAUC,KAAhB;;AAEA,QAAMO,QAAQ,GAACJ,CAAC,IAAE;AACdA,IAAAA,CAAC,CAACK,cAAF;;AAEA,QAAGT,MAAM,CAACU,IAAP,OAAgB,EAAnB,EAAsB;AAClBhB,MAAAA,YAAY;AACZ;AACH;;AAEG,QAAGF,iBAAiB,IAAE,IAAtB,EAA2B;AAEvBS,MAAAA,KAAK,CAACV,QAAN,GAAeW,cAAc,CAACS,GAA9B;AACAV,MAAAA,KAAK,CAACW,MAAN,GAAa,KAAb;AACAnB,MAAAA,YAAY,CAACQ,KAAD,CAAZ;AACH,KALD,MAMI;AACAJ,MAAAA,eAAe,CAACI,KAAD,CAAf;AACAH,MAAAA,YAAY;AACf,KAjBS,CAoBd;;;AACA;AACAF,IAAAA,aAAa,CAACM,cAAc,CAACW,EAAhB,CAAb;AAEAd,IAAAA,YAAY,CAAC;AACTC,MAAAA,MAAM,EAAC;AADE,KAAD,CAAZ;AAIH,GA5BD;;AA8BA,sBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,QAAQ,EACVQ,QADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAC,YAA7B;AAA0C,IAAA,WAAW,EAAC,gBAAtD;AAAuE,IAAA,IAAI,EAAC,QAA5E;AAAqF,IAAA,QAAQ,EAAEL,YAA/F;AAA6G,IAAA,KAAK,EAAEH,MAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAHJ,eAMI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,SAAS,EAAC,4BAA/B;AAA4D,IAAA,KAAK,EAAER,iBAAiB,GAAI,cAAJ,GAAqB,aAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CANJ,CADJ,EAYKG,UAAU,gBAAG;AAAG,IAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAH,GAAyD,IAZxE,CADJ;AAgBH,CAjFD;;AAmFAN,SAAS,CAACyB,SAAV,GAAsB,EAAtB;AAIA,eAAezB,SAAf","sourcesContent":["import React,{useContext,useState, useEffect} from 'react';\nimport proyectoContext from '../../context/proyectos/proyectoContext';\nimport tareaContext from '../../context/tareas/tareaContext';\n\nconst FormTarea = props => {\n\n    const { proyecto } = useContext(proyectoContext);//Se obtienen datos del context de proyectos\n    const {tareaseleccionada,agregarTarea,validarTarea,errortarea,obtenerTareas,actualizarTarea,limpiarTarea}=useContext(tareaContext);// Se obtienen datos del context de tareas\n  \n\n    useEffect(()=>{\n\n        if(tareaseleccionada!=null){\n            guardarTarea(tareaseleccionada);\n        }\n        else{\n            guardarTarea({\n                nombre:''\n            })\n        }\n    },[tareaseleccionada]);\n    \n    const [tarea,guardarTarea]=useState({\n        nombre:''\n    })\n\n    if(!proyecto) return null\n  \n    // Array destructuring que extrae el proyecto actual\n    const [proyectoActual]= proyecto;\n  \n    const handleChange=e=>{\n        guardarTarea({\n            ...tarea,\n            [e.target.name]: e.target.value\n        })\n    }\n    const {nombre}= tarea;\n\n    const onSubmit=e=>{\n        e.preventDefault();\n\n        if(nombre.trim()===''){\n            validarTarea();\n            return;\n        }\n\n            if(tareaseleccionada==null){\n\n                tarea.proyecto=proyectoActual._id;\n                tarea.estado=false;\n                agregarTarea(tarea);\n            }\n            else{\n                actualizarTarea(tarea);\n                limpiarTarea();\n            }\n\n\n        //Tareas del proyecto actual\n        debugger\n        obtenerTareas(proyectoActual.id);\n\n        guardarTarea({\n            nombre:''\n        })\n\n    }\n\n    return (\n        <div className=\"formulario\">\n            <form onSubmit={\n                onSubmit\n            }>\n                <div className=\"contener-input\">\n                    <input type=\"text\" className=\"input-text\" placeholder=\"Nombre Tarea..\" name=\"nombre\" onChange={handleChange} value={nombre}/>\n                </div>\n                <div className=\"contener-input\">\n                    <input type=\"submit\" className=\"btn btn-primario btn-block\" value={tareaseleccionada ? `Editar Tarea` : `Nueva Tarea`}/>\n                </div>\n            </form>\n\n            {errortarea ? <p className=\"mensaje error\">Espacios en blanco</p> : null}\n        </div>\n    );  \n};\n\nFormTarea.propTypes = {\n\n};\n\nexport default FormTarea;"]},"metadata":{},"sourceType":"module"}