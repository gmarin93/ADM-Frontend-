{"ast":null,"code":"import _defineProperty from\"/home/sisagricola/Documents/Software/AdmTareas/mern/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/sisagricola/Documents/Software/AdmTareas/mern/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/sisagricola/Documents/Software/AdmTareas/mern/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import proyectoContext from'../../context/proyectos/proyectoContext';import tareaContext from'../../context/tareas/tareaContext';var FormTarea=function FormTarea(props){var _useContext=useContext(proyectoContext),proyecto=_useContext.proyecto;//Se obtienen datos del context de proyectos\nvar _useContext2=useContext(tareaContext),tareaseleccionada=_useContext2.tareaseleccionada,agregarTarea=_useContext2.agregarTarea,validarTarea=_useContext2.validarTarea,errortarea=_useContext2.errortarea,obtenerTareas=_useContext2.obtenerTareas,actualizarTarea=_useContext2.actualizarTarea,limpiarTarea=_useContext2.limpiarTarea;// Se obtienen datos del context de tareas\nuseEffect(function(){if(tareaseleccionada!=null){guardarTarea(tareaseleccionada);}else{guardarTarea({nombre:''});}},[tareaseleccionada]);var _useState=useState({nombre:''}),_useState2=_slicedToArray(_useState,2),tarea=_useState2[0],guardarTarea=_useState2[1];if(!proyecto)return null;// Array destructuring que extrae el proyecto actual\nvar _proyecto=_slicedToArray(proyecto,1),proyectoActual=_proyecto[0];var handleChange=function handleChange(e){guardarTarea(_objectSpread(_objectSpread({},tarea),{},_defineProperty({},e.target.name,e.target.value)));};var nombre=tarea.nombre;var onSubmit=function onSubmit(e){e.preventDefault();if(nombre.trim()===''){validarTarea();return;}if(tareaseleccionada==null){tarea.proyecto=proyectoActual._id;tarea.estado=false;agregarTarea(tarea);}else{actualizarTarea(tarea);limpiarTarea();}//Tareas del proyecto actual\nobtenerTareas(proyectoActual._id);guardarTarea({nombre:''});};return/*#__PURE__*/React.createElement(\"div\",{className:\"formulario\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"contener-input\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"input-text\",placeholder:\"Nombre Tarea..\",name:\"nombre\",onChange:handleChange,value:nombre})),/*#__PURE__*/React.createElement(\"div\",{className:\"contener-input\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"btn btn-primario btn-block\",value:tareaseleccionada?\"Editar Tarea\":\"Nueva Tarea\"}))),errortarea?/*#__PURE__*/React.createElement(\"p\",{className:\"mensaje error\"},\"Espacios en blanco\"):null);};export default FormTarea;","map":{"version":3,"sources":["/home/sisagricola/Documents/Software/AdmTareas/mern/FrontEnd/src/components/tareas/FormTarea.js"],"names":["React","useContext","useState","useEffect","proyectoContext","tareaContext","FormTarea","props","proyecto","tareaseleccionada","agregarTarea","validarTarea","errortarea","obtenerTareas","actualizarTarea","limpiarTarea","guardarTarea","nombre","tarea","proyectoActual","handleChange","e","target","name","value","onSubmit","preventDefault","trim","_id","estado"],"mappings":"0hBAAA,MAAOA,CAAAA,KAAP,EAAcC,UAAd,CAAyBC,QAAzB,CAAmCC,SAAnC,KAAmD,OAAnD,CACA,MAAOC,CAAAA,eAAP,KAA4B,yCAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,mCAAzB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,CAAI,iBAEFN,UAAU,CAACG,eAAD,CAFR,CAEfI,QAFe,aAEfA,QAFe,CAE0B;AAF1B,iBAGmFP,UAAU,CAACI,YAAD,CAH7F,CAGhBI,iBAHgB,cAGhBA,iBAHgB,CAGEC,YAHF,cAGEA,YAHF,CAGeC,YAHf,cAGeA,YAHf,CAG4BC,UAH5B,cAG4BA,UAH5B,CAGuCC,aAHvC,cAGuCA,aAHvC,CAGqDC,eAHrD,cAGqDA,eAHrD,CAGqEC,YAHrE,cAGqEA,YAHrE,CAG4G;AAGnIZ,SAAS,CAAC,UAAI,CAEV,GAAGM,iBAAiB,EAAE,IAAtB,CAA2B,CACvBO,YAAY,CAACP,iBAAD,CAAZ,CACH,CAFD,IAGI,CACAO,YAAY,CAAC,CACTC,MAAM,CAAC,EADE,CAAD,CAAZ,CAGH,CACJ,CAVQ,CAUP,CAACR,iBAAD,CAVO,CAAT,CANuB,cAkBIP,QAAQ,CAAC,CAChCe,MAAM,CAAC,EADyB,CAAD,CAlBZ,wCAkBhBC,KAlBgB,eAkBVF,YAlBU,eAsBvB,GAAG,CAACR,QAAJ,CAAc,MAAO,KAAP,CAEd;AAxBuB,6BAyBCA,QAzBD,IAyBhBW,cAzBgB,cA2BvB,GAAMC,CAAAA,YAAY,CAAC,QAAbA,CAAAA,YAAa,CAAAC,CAAC,CAAE,CAClBL,YAAY,gCACLE,KADK,wBAEPG,CAAC,CAACC,MAAF,CAASC,IAFF,CAESF,CAAC,CAACC,MAAF,CAASE,KAFlB,GAAZ,CAIH,CALD,CA3BuB,GAiChBP,CAAAA,MAjCgB,CAiCPC,KAjCO,CAiChBD,MAjCgB,CAmCvB,GAAMQ,CAAAA,QAAQ,CAAC,QAATA,CAAAA,QAAS,CAAAJ,CAAC,CAAE,CACdA,CAAC,CAACK,cAAF,GAEA,GAAGT,MAAM,CAACU,IAAP,KAAgB,EAAnB,CAAsB,CAClBhB,YAAY,GACZ,OACH,CAEG,GAAGF,iBAAiB,EAAE,IAAtB,CAA2B,CAEvBS,KAAK,CAACV,QAAN,CAAeW,cAAc,CAACS,GAA9B,CACAV,KAAK,CAACW,MAAN,CAAa,KAAb,CACAnB,YAAY,CAACQ,KAAD,CAAZ,CACH,CALD,IAMI,CACAJ,eAAe,CAACI,KAAD,CAAf,CACAH,YAAY,GACf,CAGL;AACAF,aAAa,CAACM,cAAc,CAACS,GAAhB,CAAb,CAEAZ,YAAY,CAAC,CACTC,MAAM,CAAC,EADE,CAAD,CAAZ,CAIH,CA3BD,CA6BA,mBACI,2BAAK,SAAS,CAAC,YAAf,eACI,4BAAM,QAAQ,CACVQ,QADJ,eAGI,2BAAK,SAAS,CAAC,gBAAf,eACI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,YAA7B,CAA0C,WAAW,CAAC,gBAAtD,CAAuE,IAAI,CAAC,QAA5E,CAAqF,QAAQ,CAAEL,YAA/F,CAA6G,KAAK,CAAEH,MAApH,EADJ,CAHJ,cAMI,2BAAK,SAAS,CAAC,gBAAf,eACI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAC,4BAA/B,CAA4D,KAAK,CAAER,iBAAiB,6BAApF,EADJ,CANJ,CADJ,CAYKG,UAAU,cAAG,yBAAG,SAAS,CAAC,eAAb,uBAAH,CAAyD,IAZxE,CADJ,CAgBH,CAhFD,CAsFA,cAAeN,CAAAA,SAAf","sourcesContent":["import React,{useContext,useState, useEffect} from 'react';\nimport proyectoContext from '../../context/proyectos/proyectoContext';\nimport tareaContext from '../../context/tareas/tareaContext';\n\nconst FormTarea = props => {\n\n    const { proyecto } = useContext(proyectoContext);//Se obtienen datos del context de proyectos\n    const {tareaseleccionada,agregarTarea,validarTarea,errortarea,obtenerTareas,actualizarTarea,limpiarTarea}=useContext(tareaContext);// Se obtienen datos del context de tareas\n  \n\n    useEffect(()=>{\n\n        if(tareaseleccionada!=null){\n            guardarTarea(tareaseleccionada);\n        }\n        else{\n            guardarTarea({\n                nombre:''\n            })\n        }\n    },[tareaseleccionada]);\n    \n    const [tarea,guardarTarea]=useState({\n        nombre:''\n    })\n\n    if(!proyecto) return null\n  \n    // Array destructuring que extrae el proyecto actual\n    const [proyectoActual]= proyecto;\n  \n    const handleChange=e=>{\n        guardarTarea({\n            ...tarea,\n            [e.target.name]: e.target.value\n        })\n    }\n    const {nombre}= tarea;\n\n    const onSubmit=e=>{\n        e.preventDefault();\n\n        if(nombre.trim()===''){\n            validarTarea();\n            return;\n        }\n\n            if(tareaseleccionada==null){\n\n                tarea.proyecto=proyectoActual._id;\n                tarea.estado=false;\n                agregarTarea(tarea);\n            }\n            else{\n                actualizarTarea(tarea);\n                limpiarTarea();\n            }\n\n\n        //Tareas del proyecto actual\n        obtenerTareas(proyectoActual._id);\n\n        guardarTarea({\n            nombre:''\n        })\n\n    }\n\n    return (\n        <div className=\"formulario\">\n            <form onSubmit={\n                onSubmit\n            }>\n                <div className=\"contener-input\">\n                    <input type=\"text\" className=\"input-text\" placeholder=\"Nombre Tarea..\" name=\"nombre\" onChange={handleChange} value={nombre}/>\n                </div>\n                <div className=\"contener-input\">\n                    <input type=\"submit\" className=\"btn btn-primario btn-block\" value={tareaseleccionada ? `Editar Tarea` : `Nueva Tarea`}/>\n                </div>\n            </form>\n\n            {errortarea ? <p className=\"mensaje error\">Espacios en blanco</p> : null}\n        </div>\n    );  \n};\n\nFormTarea.propTypes = {\n\n};\n\nexport default FormTarea;"]},"metadata":{},"sourceType":"module"}